(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{ju:()=>r,dc:()=>d,FW:()=>a});class n{constructor(e,t,n,o){this.title=e,this.description=t,this.date=n,this.complete=o}toggleComplete(){this.complete=!this.complete}toJSON(){return{title:this.title,description:this.description,date:this.date,complete:this.complete}}}let o=[];function d(){const e=localStorage.getItem("myTaskLibrary");if(e){const t=JSON.parse(e);o=t.map((e=>new n(e.title,e.description,e.date,e.complete)))}}function r(e,t,d,r){let i=new n(e,t,d,r);o.push(i),localStorage.setItem("myTaskLibrary",JSON.stringify(o)),a()}function a(){let e=document.querySelector("#taskArea");if(e){e.innerHTML="";for(let e=0;e<o.length;e++){let t=o[e];i(t.title,t.description,t.date,t.complete)}}else console.error("Element with id 'taskArea' not found.")}const i=(e="",t="",n="",o=!1)=>{const d=document.createElement("form");d.classList.add("newTaskForm"),d.id="newTaskForm",d.draggable=!0,o&&d.classList.add("completed"),d.addEventListener("dragstart",(e=>{e.dataTransfer.setData("text/plain",null),d.classList.add("dragging")})),d.addEventListener("dragend",(()=>{d.classList.remove("dragging")}));const a=document.createElement("input");a.type="text",a.id="title",a.placeholder="Task Title",a.value=e,d.appendChild(a);const i=document.createElement("input");i.type="text",i.id="description",i.placeholder="Description",i.value=t,d.appendChild(i);const c=document.createElement("select");c.id="prioritySelect",["High","Medium","Low"].forEach((e=>{const t=document.createElement("option");t.value=e,t.textContent=e,c.appendChild(t)})),c.addEventListener("change",(()=>{switch(c.value){case"High":default:d.style.borderLeftColor="#be123c";break;case"Medium":d.style.borderLeftColor="#eab308";break;case"Low":d.style.borderLeftColor="#16a34a"}})),d.appendChild(c);const s=document.createElement("input");s.type="date",s.id="endDate",s.placeholder="Enter Due Date",s.value=n,d.appendChild(s);const m=document.createElement("img");m.src="../image/check.svg",m.type="button",m.height=40,m.width=40,m.textContent="Complete",m.id="completeBtn",d.appendChild(m),m.addEventListener("click",(()=>{d.classList.toggle("completed"),l()}));const p=document.createElement("img");p.src="../image/close-circle-outline.svg",p.type="button",p.height=40,p.width=40,p.textContent="Remove",p.id="removeBtn",d.appendChild(p),p.addEventListener("click",(e=>{e.preventDefault(),confirm("Are you sure you want to remove this task?")&&(d.remove(),l())}));const u=document.getElementById("taskArea");u?u.appendChild(d):console.error("Element with id 'taskArea' not found."),""===e&&""===t&&""===n||r(e,t,n,o),l()};function l(){const e=document.querySelectorAll(".newTaskForm"),t=Array.from(e).map((e=>({title:e.querySelector("#title").value,description:e.querySelector("#description").value,date:e.querySelector("#endDate").value,complete:e.classList.contains("completed")})));localStorage.setItem("taskForms",JSON.stringify(t))}const c=(e,t)=>[...e.querySelectorAll(".newTaskForm:not(.dragging)")].reduce(((e,n)=>{const o=n.getBoundingClientRect(),d=t-o.top-o.height/2;return d<0&&d>e.offset?{offset:d,element:n}:e}),{offset:Number.NEGATIVE_INFINITY}).element;(()=>{const e=document.querySelector("#content");if(!e)return void console.error("Element with id 'content' not found.");const n=document.createElement("div");n.classList.add("side-content");const o=document.createElement("img");o.src="../image/list-box-outline.svg",o.height=50,o.width=50,n.appendChild(o);const r=document.createElement("button");r.classList.add("newTaskBtn"),r.textContent="Add Project +",r.addEventListener("click",t.plusTask),n.appendChild(r);const l=document.createElement("div");l.classList.add("page-content");const s=document.createElement("h1");s.textContent="Here are your tasks for today:",l.appendChild(s);const m=document.createElement("img");m.src="../image/plus-box.svg",m.type="button",m.height=40,m.width=40,m.classList.add("newTaskBtn"),m.id="newTaskBtn",m.addEventListener("click",(()=>i())),l.appendChild(m);const p=document.createElement("div");p.classList.add("taskArea"),p.id="taskArea";let u=null;p.addEventListener("dragover",(e=>{e.preventDefault();const t=c(p,e.clientY),n=document.querySelector(".dragging");null==t?p.appendChild(n):p.insertBefore(n,t)})),p.addEventListener("dragenter",(e=>{u||(u=document.createElement("div"),u.classList.add("placeholder"));const t=c(p,e.clientY);null==t?p.appendChild(u):p.insertBefore(u,t)})),p.addEventListener("dragleave",(e=>{u&&u.remove()})),p.addEventListener("drop",(e=>{e.preventDefault();const t=document.querySelector(".dragging");t&&p.insertBefore(t,u),u&&u.remove()})),l.appendChild(p);const g=document.createElement("div");g.classList.add("note-content"),e.appendChild(n),e.appendChild(l),e.appendChild(g),d(),a()})()})();